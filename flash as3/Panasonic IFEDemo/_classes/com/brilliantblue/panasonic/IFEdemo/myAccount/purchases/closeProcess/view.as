package com.brilliantblue.panasonic.IFEdemo.myAccount.purchases.closeProcess{	import flash.display.*;	import flash.events.*;	import flash.text.*;	import flash.utils.*;	import caurina.transitions.*;		import com.brilliantblue.panasonic.IFEdemo.view;	import com.brilliantblue.panasonic.IFEdemo.common.screen.*;	import com.brilliantblue.panasonic.IFEdemo.common.buttons.*;	import com.brilliantblue.panasonic.IFEdemo.common.key.*;		import com.brilliantblue.panasonic.IFEdemo.myAccount.purchases.closedConfirm.view		public class view extends com.brilliantblue.panasonic.IFEdemo.view	{				public var myMovieClip:MovieClip;		public var heading:TextField;		public var subHead:TextField;		private var presets:Array;		private var creditAccount:XML;		private var _detailsMethod:String;		private var goTimer;				public function view () 		{									setLayout("2column");			setScreenTitle("CLOSE TAB");			adjustScreen();						closeButton.visible = false;			closeButton.removeEventListener(MouseEvent.CLICK, closeButtonClick);						heading = new TextField();			heading.x = screen.title.x;			heading.y = screen.title.y+100;			heading.autoSize = TextFieldAutoSize.LEFT;			heading.multiline = false;			heading.embedFonts = true;			heading.text = "Step 1/2";			heading.setTextFormat(LC_SubHeadFormat);			screen.addChild(heading);												subHead = new TextField();			subHead.width = 200;			subHead.multiline = true;			subHead.x = screen.title.x;			subHead.y = heading.y+60;			subHead.wordWrap = true;			subHead.autoSize = TextFieldAutoSize.LEFT;			//heading.autoSize = TextFieldAutoSize.BOTTOM;			subHead.embedFonts = true;			subHead.text = "Processing Payment";			subHead.setTextFormat(LC_BodyFormat);			screen.addChild(subHead);									var myMovieClip = new ProcessingMC();			myMovieClip.x = 20;			myMovieClip.y = 20;			setContentMC(myMovieClip);			/*			var cancelBtn = new BasicButton();				cancelBtn.setTitle("Back");				cancelBtn.x = 115;				cancelBtn.name = "backBtn";				cancelBtn.setClickEvent(goBack);							addChild(cancelBtn);										var nextBtn = new BasicButton();				nextBtn.setTitle("Next");				nextBtn.XPos = "RIGHT";				nextBtn.name = "nextBtn";				nextBtn.setClickEvent(openTabStep2b);							addChild(nextBtn);	*/											goTimer = setTimeout(closedConfirm, 3000);								addEventListener(Event.ADDED_TO_STAGE, onAdded,false,0,true);								addEventListener(Event.REMOVED_FROM_STAGE, onRemoved,false,0,true);		}						private function onRemoved(e:Event){					removeEventListener(Event.REMOVED_FROM_STAGE, onRemoved);						goTimer = null;					}				private function onAdded(e:Event){			//trace("added");            //stage.addEventListener(KeyboardEvent.KEY_UP, navUp,false,0,true);            //stage.addEventListener(KeyboardEvent.KEY_DOWN, navDown,false,0,true);									creditAccount = MovieClip(root)._creditAccount;					removeEventListener(Event.ADDED_TO_STAGE, onAdded);				}												override protected function screenShutDown(){					}												private function closedConfirm(){			clearTimeout(goTimer);			parentMC = this.parent;						creditAccount.tabAvailable = "0";			creditAccount.tabLimit = "0";			creditAccount.currentCharges = "0";						var myView = new com.brilliantblue.panasonic.IFEdemo.myAccount.purchases.closedConfirm.view();						//trace(this.parent.name);			myView.x = 1280;//at lest... maybe further right			parentMC.addChild(myView);			//do our tween and then add onComplete function to:			//do a softCloseClick for the current screen			Tweener.addTween(this,{x: -1280, time: 1, delay: 0.25});			Tweener.addTween(myView,{							 x: 0, 							 time: 1, 							 delay: 0.25, 							 onComplete: function(){										swapOutClose();										}, 							 onCompleteScope: this							 });		}		/*		private function goBack(e:MouseEvent){			parentMC = this.parent;			var myView = new com.brilliantblue.panasonic.IFEdemo.myAccount.purchases.openTab111.view();						//trace(this.parent.name);			myView.x = -1280;//at lest... maybe further right			parentMC.addChild(myView);			//do our tween and then add onComplete function to:			//do a softCloseClick for the current screen			Tweener.addTween(this,{x: 1280, time: 1, delay: 0.25});			Tweener.addTween(myView,{							 x: 0, 							 time: 1, 							 delay: 0.25, 							 onComplete: function(){										swapOutClose();										}, 							 onCompleteScope: this							 });			//do a new tween on the new item after we've added it					}*/											}		}